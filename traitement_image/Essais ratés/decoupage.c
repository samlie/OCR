#include <stdio.h>

/*void initialize(int height, int width, int mat[height*width])
{
	for (int i=0; i<height; i++)
	{
	    for(int j=0; j<width; j++)
	    {
	         mat[i*width + j] = 0;
	    }
	}
}

void printTabMat(int height, int width, int tabMat[1000][height*width], int limit)
{
	for (int mat=0; mat<limit; mat++)
	{
		for (int i=0; i<height; i++)
		{
		    for(int j=0; j<width; j++)
		    {
		    	if (tabMat[mat][i*width + j])
		        	printf("%d ", tabMat[mat][i*width + j]);
		    	else
		    		printf("  ");
		    }
		    printf("\n");
		}
		printf("\n");
	}
}


void _colorMat(int height, int width, int mat[height*width], int i, int j, int nb)
{
	if (mat[i*width + j] == 1) 
	{
		mat[i*width + j] = nb;
		if (i != height) {
			_colorMat(height, width, mat, i+1, j, nb);
		}
		if (i != 0) {
			_colorMat(height, width, mat, i-1, j, nb);
		}
		if (j != 0) {
			_colorMat(height, width, mat, i, j-1, nb);
		}
		if (j != width) {
			_colorMat(height, width, mat, i, j+1, nb);
		}

	}
}

void colorMat(int height, int width, int mat[height*width])
{
	int nb = 2;
	for (int i=0; i<height; i++)
	{
	    for(int j=0; j<width; j++)
	    	{
	        if (mat[i*width + j] == 1) {
	        	_colorMat(height, width, mat, i, j, nb);
	        	nb+=1;
	        }
	    }
	}
}

void addMat(int nbmats, int height, int width, int tabMat[nbmats][height*width], int pos, int mat[height*width]) 
{
	for (int i=0; i<height; i++)
	{
	    for(int j=0; j<width; j++)
	    {
	        tabMat[pos][i*width + j] = mat[i*width + j];
	    }
	}
}


void boundAndColor(int height, int width, int mat[height*width], int i, int j, int nb, int bounds[4])
{
	if (mat[i*width + j] == 1) 
	{
		mat[i*width + j] = nb;
		if (i<bounds[0])
			bounds[0] = i;
		if (i>bounds[1])
			bounds[1] = i;
		if (j<bounds[2])
			bounds[2] = j;
		if (j>bounds[3])
			bounds[3] = j;

		if (i != height) {
			boundAndColor(height, width, mat, i+1, j, nb, bounds);
		}
		if (i != 0) {
			boundAndColor(height, width, mat, i-1, j, nb, bounds);
		}
		if (j != 0) {
			boundAndColor(height, width, mat, i, j-1, nb, bounds);
		}
		if (j != width) {
			boundAndColor(height, width, mat, i, j+1, nb, bounds);
		}

	}
}

void matrix2(int height,int width, int mat[height*width], int bounds[4], int mat2[height*width], int key)
{
	for (int i=bounds[0]; i<=bounds[1]; i++)
	{
		for(int j=bounds[2]; j<=bounds[3]; j++)
		{
			if (mat[i*width + j] == key)
				mat2[(i-bounds[0])*width + (j-bounds[2])] = 1;
	    }
	}
}

int isoleTache(int nbmats, int height, int width, int tabMat[nbmats][height*width], int mat[height*width])
{
	int nb = 2;
	for (int i=0; i<height; i++)
	{
		for(int j=0; j<width; j++)
		{
			if (mat[i*width + j] == 1) {
				int bounds[4] = {height, 0, width, 0};
				boundAndColor(height, width, mat, i, j, nb, bounds);
				for (int i=0; i<4; i++)
					printf("%d\n", bounds[i]);
				int caractere[height*width];
				initialize(height, width, caractere);
				matrix2(height, width, mat, bounds, caractere, nb);
				addMat(nbmats, height, width, tabMat, nb-2, caractere);
			 	nb+=1;
	        }
	    }
	}
	printf("\n \n %d \n \n", nb);
	return nb;
}

int main() {

	int mat[10][20] = 
	{
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0},
	{0,0,1,1,1,1,0,0,0,1,1,1,1,1,0,0,0,1,0,0},
	{0,0,0,0,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,1,0,0,0,0},
	{0,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,0},
	{0,0,0,1,1,1,0,0,1,1,0,0,0,0,1,1,1,0,0,0},
	{0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,1,0,1,0,0},
	{0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0},
	};

	//printMat(10,20,mat);
	//colorMat(10,20,mat);
	//printMat(10,20,mat);

	//printf("\n\n\n");

	int tabMat[7][10][20] = 	
	{{
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	},
	{
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	},
	{
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	},
	{
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	},
	{
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	},
	{
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	},
	{
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	}};

	//printTabMat(7,10,20, tabMat);
	//printf("\n\n\n");
	//addMat(7,10,20, tabMat, 0, mat);
	

	isoleTache(7, 10, 20, tabMat, mat);

	printTabMat(7,10,20, tabMat);

	return 0;
}
*/